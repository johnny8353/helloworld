<?xml version="1.0" encoding= "UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xsi:schemaLocation="http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd
            http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd">

  <!-- 默认注解映射 -->
  <mvc:annotation-driven/>
  <!-- 静态资源映射 -->
  <mvc:resources mapping="/Scripts/**" location="/Scripts/" />
  <mvc:resources mapping="/css/**" location="/css/" />
  <mvc:resources mapping="/images/**" location="/images/" />
  <!-- 当上面要访问的静态资源不包括在上面的配置中时，则根据此配置来访问 -->
  
  <mvc:default-servlet-handler/> 

  <!-- 开启controller注解支持 -->
  <!-- use-default-filters="false" 只扫描指定的注解 -->
  <!-- 
  <context:component-scan base-package="com.zte.mcrm" use-default-filters="false"> 
     <context:include-filter type="annotation" expression="org.springframework.stereotype.Controller" />
  </context:component-scan>
-->
   <!--数据格式配置 -->  
   <bean class="org.springframework.web.servlet.view.ContentNegotiatingViewResolver">  
       
      <property name="ignoreAcceptHeader" value="true"/>
      <property name="defaultContentType" value="text/html"/>
      
      <property name="mediaTypes">  
        <map>  
          <!-- 告诉视图解析器 返回的类型为json 格式 --> 
          <entry key="json" value="application/json"/>  
          <entry key="xml" value="application/xml" /> 
          <entry key="html" value="text/html" />  
        </map>  
      </property>  
      <property name="viewResolvers">
          <list>
             <bean class="org.springframework.web.servlet.view.BeanNameViewResolver"/>
             <!--  View 映射路径-->
             <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
             
                <!--  <property name="viewClass" value="org.springframework.web.servlet.view.JstlView"/>  -->
                 
                 <property name="prefix" value="/app/"></property>
                 <property name="suffix" value=".jsp"></property>
              </bean> 
          </list>
      </property>
      <property name="defaultViews">  
        <list>  
          <!-- 这个 View 比较重要,ModelAndView 里的数据变成JSON -->  
          <bean class="org.springframework.web.servlet.view.json.MappingJacksonJsonView"/>
        </list>  
      </property>  
    </bean> 
  </beans>